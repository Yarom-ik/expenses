<template>
    <div class="slds-align_absolute-center">
        <div class="slds-card" style="width:1000px">
            <div class="slds-page-header">
                <div class="slds-grid">
                    <div class="slds-col slds-has-flexi-truncate">
                        <header class="slds-media slds-wrap slds-media_center slds-has-flexi-truncate bundle-heading">
                            <div class="slds-col slds-size_1-of-10 slds-col_bump-right slds-media__body">
                                <h1 class="slds-card__header-title">
                                    Expenses
                                    <template if:true={authUser}>
                                        {authUser.Office__c}
                                    </template>
                                </h1>
                            </div>
                            <div class="slds-col slds-align_absolute-center">
                                balanse $
                                <template if:true={monthlyExpense}>
                                    {monthlyExpense.Balance}
                                </template>
                            </div>
                            <div class="slds-col slds-no-flex">
                                <lightning-button label="Income" slot="actions"></lightning-button>
                                <lightning-button label="New Expense" slot="actions"></lightning-button>
                            </div>
                        </header>
                    </div>
                </div>

                <ul class="slds-grid slds-page-header__detail-row">
                    <li class="slds-col">
                        <div class="card-body slds-grid">
                            <div class="description slds-col slds-size_4-of-3 slds-p-right_small">
                                <!-- 1 -->
                                <div class="demo-only" style="width:300px">
                                    <nav class="slds-nav-vertical" aria-label="Sub page">
                                        <div class="slds-border_right">
                                            <div class="slds-nav-vertical__section">
                                                <div class="slds-grid slds-gutters">
                                                    <div class="slds-col" style="width:120px">
                                                        <h2 class="slds-nav-vertical__title">MONTHS</h2>
                                                    </div>
                                                    <div class="slds-col" style="width:90px">
                                                        <h2>Amount</h2>
                                                    </div>
                                                    <div class="slds-col" style="width:90px">
                                                        <h2>Income</h2>
                                                    </div>
                                                </div>
                                                <ul aria-describedby="entity-header">
                                                    <li class="slds-nav-vertical__item slds-is-active" onclick={showM}
                                                        id="1">

                                                        <div class="slds-grid slds-gutters">
                                                            <div class="slds-col" style="width:120px">
                                                                <a onclick={showM} name="1"
                                                                    class="slds-nav-vertical__action"
                                                                    aria-current="true">January</a>
                                                                <!-- <button class="slds-nav-vertical__action" onclick={showM}>January </button> -->

                                                            </div>
                                                            <div class="slds-col slds-p-top_x-small" style="width:90px">
                                                                <span class="slds-badge ">
                                                                    <span class="slds-assistive-text">:</span>3232
                                                                </span>
                                                            </div>
                                                            <div class="slds-col slds-p-top_x-small" style="width:90px">
                                                                <span class="slds-badge slds-col_bump-left">
                                                                    <span class="slds-assistive-text">:</span>323
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </li>
                                                    <template if:true={monthlyExpense}>
                                                        <template for:each={monthlyExpense.monthlyExpenseList} for:item="monthly">
                                                        <li class="slds-nav-vertical__item" key={monthly.MonthDate__c}>
                                                            <div class="slds-grid slds-gutters">
                                                                <div class="slds-col" style="width:120px">
                                                                    <a onclick={showM} name="2" 
                                                                        class="slds-nav-vertical__action">
                                                                        
                                                                        <lightning-formatted-date-time value={monthly.MonthDate__c} month="long"></lightning-formatted-date-time>
                                                                    </a>
                                                                </div>
                                                                <div class="slds-col slds-p-top_x-small"
                                                                    style="width:90px">
                                                                    <span class="slds-badge ">
                                                                        <span class="slds-assistive-text">:</span>{monthly.SpentAmount__c}
                                                                    </span>
                                                                </div>
                                                                <div class="slds-col slds-p-top_x-small"
                                                                    style="width:90px">
                                                                    <span class="slds-badge slds-col_bump-left">
                                                                        <span class="slds-assistive-text">:</span>{monthly.Reminder__c}
                                                                    </span>
                                                                </div>
                                                            </div>
                                                        </li>
                                                        </template>
                                                    </template>
                                                    <li class="slds-nav-vertical__item">
                                                        <a href="javascript:void(0);"
                                                            class="slds-nav-vertical__action">Private
                                                            Reports</a>
                                                    </li>
                                                </ul>
                                                <!-- total -->
                                                <div class="total">
                                                    <div class="slds-grid slds-gutters slds-p-left_xx-large">

                                                        <div class="slds-col " style="width:120px">
                                                            <h2>Total</h2>
                                                        </div>
                                                        <div class="slds-col" style="width:90px">
                                                                <template if:true={monthlyExpense}>
                                                                    <h2>{monthlyExpense.totalAmount}</h2>
                                                                </template>
                                                        </div>
                                                        <div class="slds-col" style="width:90px">
                                                                <template if:true={monthlyExpense}>
                                                                        <h2>{monthlyExpense.totalIncome}</h2>
                                                                </template>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- total -->
                                                <div class="years">
                                                    <div class="slds-p-left_medium">
                                                        Years:
                                                        <div>
                                                            <lightning-button-group>
                                                                <template for:each={dates4years} for:item="date">
                                                                    <lightning-button key={date.Id} label={date}>
                                                                    </lightning-button>

                                                                </template>
                                                            </lightning-button-group>

                                                            <!-- <div class="slds-button-group" role="group">
                                                                <template for:each={dates4years} for:item="date">                                                            
                                                                <button class="slds-button slds-button_neutral" key={date.Id}>{date}</button>                                                                                                      -->



                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </nav>
                                </div>
                                <!-- 1 -->
                            </div>
                            <div
                                class="descriptor slds-col slds-grow-none slds-size_4-of-7 slds-p-horizontal_small word-wrap">
                                <!-- 2 -->
                                <template if:true={expensesCard}>
                                    <lightning-accordion class="example-accordion" active-section-name="B">
                                        <!-- onsectiontoggle={handleToggleSection} -->
                                        <template for:each={expensesCard} for:item="card">
                                            <lightning-accordion-section key={card.cardDateUnique} name="A"
                                                label={card.cardDateUnique}>

                                                <lightning-datatable key-field="Id" data={card.expenseCardList}
                                                    columns={columns} onsave={handleSave} hide-checkbox-column="false"
                                                    onrowaction={deleteExpenseCard} draft-values={draftValues}>
                                                </lightning-datatable>
                                                <div class="slds-m-around--medium">
                                                    <p>Total: {card.totalSum}</p>
                                                </div>

                                            </lightning-accordion-section>
                                        </template>
                                    </lightning-accordion>
                                </template>
                                <!-- 2 -->
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>


</template>